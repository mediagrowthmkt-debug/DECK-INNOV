<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deck Remodeling Massachusetts | Innov Builders | Free Estimate</title>
    <meta name="description" content="Transform your outdoor space with professional deck remodeling in Massachusetts & New Hampshire. Expert craftsmanship, 11+ years experience. Free estimate. Call +1 978-878-7977">
    
    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '811056244975308');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=811056244975308&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    
    <!-- Preload LCP hero image for faster rendering -->
    <link rel="preload" as="image" href="hero (overlay slide oppacity)/DJI_20250106120245_0051_D.webp" fetchpriority="high">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #ffffff;
            background-color: #000000;
            overflow-x: hidden;
            /* Push content below the fixed header */
            padding-top: 80px;
        }

        /* HEADER STYLES */
        .sticky-header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 15px 0;
            transition: all 0.3s ease;
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            font-size: 24px;
            font-weight: 800;
            color: #FFC300;
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 60px;
            width: auto;
            object-fit: contain;
        }

        .btn-primary {
            background: #FFC300;
            color: #000;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary:hover {
            background: #e6af00;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 195, 0, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: #fff;
            padding: 12px 24px;
            border: 2px solid #fff;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-secondary:hover {
            background: #fff;
            color: #000;
        }

        /* HERO VIDEO SECTION */
        .hero-video {
            position: relative;
            height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .hero-slider {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            opacity: 0;
            transform: scale(1);
            transition: opacity 1.5s ease-in-out, transform 5s ease-in-out;
        }

        .hero-slide.active {
            opacity: 1;
            transform: scale(1.05);
        }

        .hero-slide.zoom-out {
            transform: scale(1.1);
        }

        .hero-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0,0,0,0.8), rgba(0,0,0,0.6));
            z-index: 1;
        }

        .hero-overlay {
            position: relative;
            z-index: 2;
            text-align: center;
            max-width: 900px;
            padding: 0 20px;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #FFC300;
            font-weight: 500;
        }

        .hero-location {
            font-size: 1.1rem;
            margin-bottom: 40px;
            color: #ccc;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            align-items: center;
        }
        
        /* Center single button in hero on desktop */
        .hero-video .hero-buttons {
            justify-content: center;
        }

        /* MAIN SECTIONS */
        .section {
            padding: 80px 0;
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 20px;
            padding-right: 20px;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
        }

        .section-subtitle {
            font-size: 1.2rem;
            text-align: center;
            color: #ccc;
            margin-bottom: 60px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        /* BENEFITS SECTION */
        .benefits {
            background: linear-gradient(135deg, #111, #000);
            padding: 80px 0;
        }

        .benefits-grid {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .benefits-content {
            display: flex;
            flex-direction: column;
            gap: 40px;
            align-items: center;
            text-align: center;
            max-width: 800px;
        }

        .benefits-text {
            flex: 1;
        }

        .benefits-list {
            list-style: none;
        }

        .benefits-list li {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            font-size: 1.1rem;
        }

        .benefits-list li i {
            color: #FFC300;
            margin-right: 15px;
            font-size: 1.3rem;
        }

        /* PORTFOLIO SECTION */
        .portfolio {
            padding: 80px 0;
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 60px;
        }

        @media (min-width: 1024px) {
            .portfolio-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .portfolio-item {
            background: #111;
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .portfolio-item:hover {
            transform: translateY(-10px);
        }

        /* BEFORE AFTER SLIDER - SOLUÇÃO DEFINITIVA */
        .before-after-slider {
            position: relative;
            height: 250px;
            overflow: hidden;
            cursor: ew-resize;
        }

        .before-after-slider img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            pointer-events: none;
            user-select: none;
            -webkit-user-drag: none;
        }

        .before-image {
            z-index: 1;
        }

        .after-image {
            z-index: 2;
            clip-path: inset(0 50% 0 0);
        }

        /* INPUT RANGE - INVISIVEL MAS INTERATIVO */
        .slider-range {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 100;
            opacity: 0;
            cursor: ew-resize;
            margin: 0;
            padding: 0;
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
        }

        .slider-range::-webkit-slider-runnable-track {
            width: 100%;
            height: 100%;
            cursor: ew-resize;
            background: transparent;
        }

        .slider-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 50px;
            height: 250px;
            cursor: ew-resize;
            background: transparent;
            border: none;
        }

        .slider-range::-moz-range-track {
            width: 100%;
            height: 100%;
            cursor: ew-resize;
            background: transparent;
        }

        .slider-range::-moz-range-thumb {
            width: 50px;
            height: 250px;
            cursor: ew-resize;
            background: transparent;
            border: none;
        }

        /* HANDLE VISUAL */
        .slider-handle {
            position: absolute;
            top: 0;
            left: 50%;
            width: 4px;
            height: 100%;
            background: #FFC300;
            z-index: 5;
            transform: translateX(-50%);
            pointer-events: none;
        }

        .slider-handle::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 40px;
            height: 40px;
            background: #FFC300;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            border: 3px solid #000;
        }

        .slider-handle::after {
            content: '⟷';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #000;
            font-weight: bold;
            font-size: 16px;
            line-height: 1;
        }

        .before-after-labels {
            position: absolute;
            top: 15px;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 4;
            pointer-events: none;
        }

        .before-label,
        .after-label {
            background: rgba(0, 0, 0, 0.8);
            color: #FFC300;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .portfolio-image {
            height: 250px;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .portfolio-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0, 0, 0, 0.3), rgba(255, 195, 0, 0.2));
            transition: all 0.3s ease;
        }

        .portfolio-item:hover .portfolio-image::before {
            background: linear-gradient(45deg, rgba(0, 0, 0, 0.1), rgba(255, 195, 0, 0.1));
        }

        .portfolio-content {
            padding: 25px;
        }

        .portfolio-content h3 {
            color: #FFC300;
            margin-bottom: 10px;
        }

        /* TESTIMONIALS */
        .testimonials {
            background: #f5f5f5;
            color: #333;
            padding: 80px 0;
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 60px;
        }

        @media (min-width: 1024px) {
            .testimonials-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .testimonial {
            background: #fff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .stars {
            color: #FFC300;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .testimonial-text {
            font-style: italic;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .testimonial-author {
            font-weight: 600;
            color: #000;
        }

        /* ABOUT SECTION */
        .about {
            padding: 80px 0;
        }

        .about-content {
            text-align: center;
            margin-bottom: 60px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .stat-item {
            text-align: center;
            padding: 30px;
            background: #111;
            border-radius: 15px;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: #FFC300;
            display: block;
        }

        .stat-label {
            font-size: 1rem;
            color: #ccc;
            margin-top: 10px;
        }

        /* BSC SECTION */
        .bsc-section {
            background: linear-gradient(135deg, #FFC300, #e6af00);
            color: #000;
            padding: 80px 0;
            text-align: center;
        }

        /* CONTACT FORM */
        .contact {
            padding: 80px 0;
        }

        .contact-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .contact-form {
            background: #111;
            padding: 40px;
            border-radius: 15px;
            margin-top: 40px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #FFC300;
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 8px;
            background: #222;
            color: #fff;
            font-size: 1rem;
        }

        .form-group textarea {
            height: 120px;
            resize: vertical;
        }

        /* FOOTER */
        .footer {
            background: #111;
            padding: 60px 0 30px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h3 {
            color: #FFC300;
            margin-bottom: 20px;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: #FFC300;
        }

        .footer-bottom {
            border-top: 1px solid #333;
            padding-top: 30px;
            text-align: center;
            color: #666;
        }

        /* FLOATING ELEMENTS */
        .floating-call {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            background: #FFC300;
            color: #000;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            text-decoration: none;
            box-shadow: 0 4px 20px rgba(255, 195, 0, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .floating-call:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(255, 195, 0, 0.4);
        }

        /* RESPONSIVE DESIGN */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .logo img {
                height: 45px;
            }

            .benefits-grid {
                display: flex;
                justify-content: center;
            }

            .benefits-content {
                flex-direction: column;
                gap: 30px;
                text-align: center;
            }

            .benefits-text {
                text-align: center;
            }

            .portfolio-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .section-title {
                font-size: 2rem;
            }

            .floating-call {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }

            .hero-slide {
                background-attachment: scroll;
                transform: scale(1) !important;
                transition: opacity 1.5s ease-in-out, transform 3s ease-in-out;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2rem;
            }

            /* Heading */
            .hero-video h1 {
                font-size: 26px;
                transform: translateX(0px) translateY(0px);
            }

            /* Secondary Button */
            .hero-video .hero-buttons .btn-secondary {
                font-size: 19px !important;
            }

            /* Hero subtitle */
            .hero-video .hero-subtitle {
                font-size: 15px;
            }

            .section {
                padding: 60px 0;
            }

            .contact-form {
                padding: 30px 20px;
            }
        }

        /* ANIMATIONS */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-on-scroll {
            animation: fadeInUp 0.8s ease-out;
        }

        /* UTILITY CLASSES */
        .text-center { text-align: center; }
        .mb-20 { margin-bottom: 20px; }
        .mb-30 { margin-bottom: 30px; }
        .mb-40 { margin-bottom: 40px; }
        .project-highlight {
            margin-top: 30px;
            color: #FFC300;
            font-size: 1.1rem;
        }

        /* NAME MODAL */
        .name-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .name-modal.show {
            display: flex;
        }

        .name-modal-content {
            background: #1a1a1a;
            border: 2px solid #FFC300;
            border-radius: 15px;
            padding: 40px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 40px rgba(255, 195, 0, 0.3);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .name-modal h3 {
            color: #FFC300;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .name-modal p {
            color: #ccc;
            margin-bottom: 25px;
        }

        .name-modal input {
            width: 100%;
            padding: 15px;
            border: 2px solid #333;
            border-radius: 8px;
            background: #000;
            color: #fff;
            font-size: 1rem;
            margin-bottom: 20px;
            transition: border-color 0.3s ease;
        }

        .name-modal input:focus {
            outline: none;
            border-color: #FFC300;
        }

        .name-modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .name-modal-buttons button {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .name-modal-buttons .btn-confirm {
            background: #FFC300;
            color: #000;
        }

        .name-modal-buttons .btn-confirm:hover {
            background: #e6af00;
            transform: translateY(-2px);
        }

        .name-modal-buttons .btn-cancel {
            background: transparent;
            border: 2px solid #666;
            color: #fff;
        }

        .name-modal-buttons .btn-cancel:hover {
            border-color: #fff;
        }

        /* VIDEO PLAYER STYLES */
        .video-wrapper {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin: 40px auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(255, 195, 0, 0.3);
            aspect-ratio: 16/9;
        }

        .video-wrapper video {
            width: 100%;
            height: 100%;
            display: block;
            object-fit: contain;
            background: #000;
        }

        /* Center play overlay */
        .video-wrapper .play-overlay {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.35);
            z-index: 5;
            transition: opacity 0.25s ease;
            cursor: pointer;
        }
        .video-wrapper .play-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .video-wrapper .play-button {
            width: 84px;
            height: 84px;
            border-radius: 50%;
            background: rgba(0,0,0,0.6);
            border: 2px solid #FFC300;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #FFC300;
            box-shadow: 0 10px 25px rgba(255,195,0,0.25);
        }
        .video-wrapper .play-button i {
            font-size: 28px;
            margin-left: 4px;
        }

        /* Força o controle de tamanho mesmo durante reprodução */
        .video-wrapper video:fullscreen {
            object-fit: contain;
        }

        .video-wrapper video:-webkit-full-screen {
            object-fit: contain;
        }

        .video-wrapper video:-moz-full-screen {
            object-fit: contain;
        }

        /* Garante que o player mantenha o tamanho */
        .video-wrapper video[controls] {
            max-width: 100%;
            max-height: 100%;
        }

        @media (max-width: 768px) {
            .video-wrapper {
                max-width: 90%;
                aspect-ratio: 16/9;
            }

            .video-wrapper video {
                object-fit: contain;
            }
            .video-wrapper .play-button {
                width: 70px;
                height: 70px;
            }
            .video-wrapper .play-button i {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- STICKY HEADER -->
    <header class="sticky-header">
        <div class="header-container">
            <div class="logo">
                <img src="logo header.webp" alt="Innov Builders Logo" decoding="async">
            </div>
        </div>
    </header>

    <!-- HERO VIDEO SECTION -->
    <section class="hero-video">
        <div class="hero-slider">
            <div class="hero-slide active" style="background-image: url('hero (overlay slide oppacity)/DJI_20250106120245_0051_D.webp')"></div>
            <div class="hero-slide" style="background-image: url('hero (overlay slide oppacity)/PHOTO-2024-06-01-19-45-20.webp')"></div>
            <div class="hero-slide" style="background-image: url('hero (overlay slide oppacity)/PHOTO-2024-09-03-13-49-41 (1).webp')"></div>
            <div class="hero-slide" style="background-image: url('hero (overlay slide oppacity)/PHOTO-2024-11-13-17-45-58.webp')"></div>
        </div>
        <div class="hero-overlay">
            <h1 class="hero-title">Transform Your Outdoor Space. <span style="color: #FFC300; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">New Deck</span>. <span style="color: #FFC300; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">Built to Last</span>. Beautiful Results Guaranteed</h1>
            <p class="hero-subtitle">Massachusetts-based deck renovation experts specializing in new construction, repairs, composite upgrades, and complete deck transformations.</p>
            <p class="hero-location">✔ Licensed & Insured • HIC #212869 | ✔ Serving Massachusetts & New Hampshire</p>
            <p style="font-size: 1rem; margin-bottom: 30px; color: #ccc;">⚡ Typically replies within 10 minutes</p>
            <div class="hero-buttons" style="text-align: center;">
                <a href="#contact" class="btn-primary" style="font-size: 1.2rem; padding: 18px 35px;">
                    <i class="fas fa-edit"></i> Get Your Free Estimate
                </a>
                <a href="#" class="btn-secondary call-with-email" style="font-size: 1.2rem; padding: 18px 35px;">
                    <i class="fas fa-phone"></i> Call/Text Now
                </a>
            </div>
        </div>
    </section>

    <!-- CONTACT FORM - EARLY PLACEMENT -->
    <section id="contact" class="contact section" style="background: linear-gradient(135deg, rgba(0,0,0,0.85), rgba(0,0,0,0.85)), url('STAIR-REMODELING (REFERENCIA)/assets/images/background amandeirado.webp'); background-size: cover; background-position: center; background-attachment: fixed; padding: 80px 20px;">
        <div class="contact-container" style="max-width: 700px; margin: 0 auto;">
            <h2 class="section-title" style="font-size: 2rem; margin-bottom: 15px;">Get Your Free Estimate in Minutes</h2>
            <p class="section-subtitle" style="color: #ccc; margin-bottom: 40px;">No pressure, no hidden fees — just honest work that makes your home shine again.</p>
            
            <form id="contactForm" class="contact-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="name">Name *</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone *</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="deckType">What type of deck work do you need? *</label>
                        <select id="deckType" name="deckType" required>
                            <option value="">Select your deck project type</option>
                            <option value="new-deck">New deck construction</option>
                            <option value="deck-renovation">Complete deck renovation</option>
                            <option value="deck-repair">Deck repair & structural reinforcement</option>
                            <option value="composite-upgrade">Composite deck upgrade</option>
                            <option value="deck-expansion">Deck expansion & redesign</option>
                            <option value="refinishing">Deck refinishing & staining</option>
                            <option value="other">Other/Not sure</option>
                        </select>
                    </div>
                </div>
                <div class="text-center" style="margin-top: 30px;">
                    <p style="font-size: 1rem; color: #FFC300; margin-bottom: 20px;">
                        ⚡ Typically replies within 10 minutes
                    </p>
                    <button type="submit" class="btn-primary" style="font-size: 1.3rem; padding: 20px 50px; background: #FFC300; color: #000; font-weight: 700;">
                        <i class="fas fa-calculator"></i> Get Your Free Estimate Now
                    </button>
                </div>
            </form>
        </div>
    </section>

    <!-- MINI GALLERY SECTION -->
    <section class="mini-gallery section" style="background: #0a0a0a; padding: 60px 20px;">
        <div style="max-width: 1200px; margin: 0 auto;">
            <h2 class="section-title" style="margin-bottom: 40px;">Recent Deck Transformations</h2>
            <div class="gallery-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                <div class="gallery-item" style="border-radius: 10px; overflow: hidden; box-shadow: 0 4px 15px rgba(255, 195, 0, 0.2);">
                    <img src="galeria de fotos/PHOTO-2024-06-01-19-45-20.webp" alt="Deck Project 1" loading="lazy" decoding="async" style="width: 100%; height: 300px; object-fit: cover; display: block;">
                </div>
                <div class="gallery-item" style="border-radius: 10px; overflow: hidden; box-shadow: 0 4px 15px rgba(255, 195, 0, 0.2);">
                    <img src="galeria de fotos/PHOTO-2024-09-03-13-49-41 (1).webp" alt="Deck Project 2" loading="lazy" decoding="async" style="width: 100%; height: 300px; object-fit: cover; display: block;">
                </div>
                <div class="gallery-item" style="border-radius: 10px; overflow: hidden; box-shadow: 0 4px 15px rgba(255, 195, 0, 0.2);">
                    <img src="galeria de fotos/PHOTO-2024-11-13-17-45-58.webp" alt="Deck Project 3" loading="lazy" decoding="async" style="width: 100%; height: 300px; object-fit: cover; display: block;">
                </div>
                <div class="gallery-item" style="border-radius: 10px; overflow: hidden; box-shadow: 0 4px 15px rgba(255, 195, 0, 0.2);">
                    <img src="galeria de fotos/PHOTO-2024-11-15-17-12-23.webp" alt="Deck Project 4" loading="lazy" decoding="async" style="width: 100%; height: 300px; object-fit: cover; display: block;">
                </div>
                <div class="gallery-item" style="border-radius: 10px; overflow: hidden; box-shadow: 0 4px 15px rgba(255, 195, 0, 0.2);">
                    <img src="galeria de fotos/PHOTO-2024-06-24-20-02-00.webp" alt="Deck Project 5" loading="lazy" decoding="async" style="width: 100%; height: 300px; object-fit: cover; display: block;">
                </div>
                <div class="gallery-item" style="border-radius: 10px; overflow: hidden; box-shadow: 0 4px 15px rgba(255, 195, 0, 0.2);">
                    <img src="galeria de fotos/PHOTO-2024-06-29-11-59-14.webp" alt="Deck Project 6" loading="lazy" decoding="async" style="width: 100%; height: 300px; object-fit: cover; display: block;">
                </div>
                <div class="gallery-item" style="border-radius: 10px; overflow: hidden; box-shadow: 0 4px 15px rgba(255, 195, 0, 0.2);">
                    <img src="galeria de fotos/DJI_20250106120245_0051_D.webp" alt="Deck Project 7" loading="lazy" decoding="async" style="width: 100%; height: 300px; object-fit: cover; display: block;">
                </div>
                <div class="gallery-item" style="border-radius: 10px; overflow: hidden; box-shadow: 0 4px 15px rgba(255, 195, 0, 0.2);">
                    <img src="galeria de fotos/AFTER. 1.webp" alt="Deck Project 8" loading="lazy" decoding="async" style="width: 100%; height: 300px; object-fit: cover; display: block;">
                </div>
                <div class="gallery-item" style="border-radius: 10px; overflow: hidden; box-shadow: 0 4px 15px rgba(255, 195, 0, 0.2);">
                    <img src="galeria de fotos/PHOTO-2024-06-24-20-02-01.webp" alt="Deck Project 9" loading="lazy" decoding="async" style="width: 100%; height: 300px; object-fit: cover; display: block;">
                </div>
            </div>
        </div>
    </section>

    <!-- SERVICES SECTION -->
    <section class="benefits">
        <div class="section">
            <h2 class="section-title">We Specialize in All Types of Deck Remodeling</h2>
            <div class="benefits-grid">
                <div class="benefits-content">
                    <div class="benefits-text">
                        <ul class="benefits-list">
                            <li>
                                <i class="fas fa-hammer"></i>
                                Complete deck renovation and redesign
                            </li>
                            <li>
                                <i class="fas fa-tools"></i>
                                New deck construction (wood & composite)
                            </li>
                            <li>
                                <i class="fas fa-wrench"></i>
                                Deck repair and structural reinforcement
                            </li>
                            <li>
                                <i class="fas fa-layer-group"></i>
                                Composite deck upgrades & installations
                            </li>
                            <li>
                                <i class="fas fa-expand-arrows-alt"></i>
                                Deck expansion and multi-level designs
                            </li>
                            <li>
                                <i class="fas fa-paint-brush"></i>
                                Deck refinishing, staining, and sealing
                            </li>
                        </ul>
                        <p class="project-highlight">Every project is customized to your outdoor vision, ensuring beauty, safety, and long-lasting value.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- PORTFOLIO SECTION -->
    <section class="portfolio section">
        <h2 class="section-title">Before & After Deck Transformations</h2>
        <p class="section-subtitle">See how we transform tired, outdated decks into stunning outdoor living spaces.</p>
        
        <div class="portfolio-grid">
            <div class="portfolio-item">
                <div class="before-after-slider" data-project="project-1">
                    <img src="before and afters/after 3.webp" alt="After" class="before-image" loading="lazy" decoding="async">
                    <img src="before and afters/before 3.webp" alt="Before" class="after-image" loading="lazy" decoding="async">
                    <input type="range" min="0" max="100" value="50" class="slider-range" oninput="this.parentElement.querySelector('.slider-handle').style.left=this.value+'%';this.parentElement.querySelector('.after-image').style.clipPath='inset(0 '+(100-this.value)+'% 0 0)'">
                    <div class="slider-handle"></div>
                    <div class="before-after-labels">
                        <span class="before-label">BEFORE</span>
                        <span class="after-label">AFTER</span>
                    </div>
                </div>
                <div class="portfolio-content">
                    <h3>Complete Deck Transformation</h3>
                    <p>Project 1 - Massachusetts</p>
                </div>
            </div>
            <div class="portfolio-item">
                <div class="before-after-slider" data-project="project-2">
                    <img src="before and afters/after 2.webp" alt="After" class="before-image" loading="lazy" decoding="async">
                    <img src="before and afters/before 2.webp" alt="Before" class="after-image" loading="lazy" decoding="async">
                    <input type="range" min="0" max="100" value="50" class="slider-range" oninput="this.parentElement.querySelector('.slider-handle').style.left=this.value+'%';this.parentElement.querySelector('.after-image').style.clipPath='inset(0 '+(100-this.value)+'% 0 0)'">
                    <div class="slider-handle"></div>
                    <div class="before-after-labels">
                        <span class="before-label">BEFORE</span>
                        <span class="after-label">AFTER</span>
                    </div>
                </div>
                <div class="portfolio-content">
                    <h3>Modern Deck Renovation</h3>
                    <p>Project 2 - Massachusetts</p>
                </div>
            </div>
            <div class="portfolio-item">
                <div class="before-after-slider" data-project="project-3">
                    <img src="before and afters/AFTER. 1.webp" alt="After" class="before-image" loading="lazy" decoding="async">
                    <img src="before and afters/BEFORE 1.webp" alt="Before" class="after-image" loading="lazy" decoding="async">
                    <input type="range" min="0" max="100" value="50" class="slider-range" oninput="this.parentElement.querySelector('.slider-handle').style.left=this.value+'%';this.parentElement.querySelector('.after-image').style.clipPath='inset(0 '+(100-this.value)+'% 0 0)'">
                    <div class="slider-handle"></div>
                    <div class="before-after-labels">
                        <span class="before-label">BEFORE</span>
                        <span class="after-label">AFTER</span>
                    </div>
                </div>
                <div class="portfolio-content">
                    <h3>Professional Deck Remodeling</h3>
                    <p>Project 3 - Massachusetts</p>
                </div>
            </div>
        </div>
    </section>

    <!-- BENEFITS SECTION -->
    <section class="benefits">
        <div class="section">
            <h2 class="section-title">Why Choose Innov Builders for Your Deck?</h2>
            <div class="benefits-grid">
                <div class="benefits-content">
                    <div class="benefits-text">
                        <ul class="benefits-list">
                            <li>
                                <i class="fas fa-shield-alt"></i>
                                <strong>Safety First:</strong> Structural integrity and code compliance guaranteed
                            </li>
                            <li>
                                <i class="fas fa-hammer"></i>
                                <strong>Built to Last:</strong> Premium materials and expert craftsmanship
                            </li>
                            <li>
                                <i class="fas fa-chart-line"></i>
                                <strong>Increase Home Value:</strong> Professional decks boost property appeal
                            </li>
                            <li>
                                <i class="fas fa-paint-brush"></i>
                                <strong>Custom Design:</strong> Tailored to your outdoor lifestyle
                            </li>
                            <li>
                                <i class="fas fa-clock"></i>
                                <strong>Fast & Clean:</strong> Quick turnaround with zero mess left behind
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 3D PROJECT VISUALIZATION -->
    <section class="section" style="background: #111; padding: 80px 0;">
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
            <h2 class="section-title">From Vision to Reality</h2>
            <p class="section-subtitle">We start every project with detailed 3D visualization so you can see your dream deck before we build it.</p>
            <div style="max-width: 900px; margin: 40px auto; border-radius: 15px; overflow: hidden; box-shadow: 0 20px 40px rgba(255, 195, 0, 0.3);">
                <img src="3d/IMG_0966.webp" alt="3D Deck Visualization Before Construction" loading="lazy" decoding="async" style="width: 100%; height: auto; display: block;">
            </div>
            <div style="text-align: center; margin-top: 30px;">
                <p style="color: #FFC300; font-size: 1.1rem; font-weight: 600;">
                    <i class="fas fa-drafting-compass"></i> Every project starts with precision planning
                </p>
            </div>
        </div>
    </section>

    <!-- VIDEO SHOWCASE SECTION -->
    <section class="video-showcase section" style="background: #000; padding: 80px 0;">
        <div class="video-container" style="max-width: 900px; margin: 0 auto; text-align: center;">
            <h2 class="section-title">See Our Work in Action</h2>
            <p class="section-subtitle">Watch the transformation process from start to finish</p>
            <div class="video-wrapper" style="position: relative; width: 100%; max-width: 700px; margin: 40px auto; border-radius: 15px; overflow: hidden; box-shadow: 0 20px 40px rgba(255, 195, 0, 0.3); aspect-ratio: 16/9;">
                <video controls preload="metadata" playsinline style="width: 100%; height: 100%; display: block; object-fit: contain; background: #000;">
                    <source src="videos/0413.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div style="text-align: center; margin-top: 30px;">
                <a href="#contact" class="btn-primary">
                    <i class="fas fa-arrow-right"></i> Transform Your Deck — Book a Free Consultation
                </a>
            </div>
        </div>
    </section>

    <!-- TESTIMONIALS SECTION -->
    <section class="testimonials">
        <div class="section">
            <h2 class="section-title" style="color: #333;">What Our Deck Remodeling Clients Are Saying</h2>
            <div class="testimonials-grid">
                <div class="testimonial">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
                    <p class="testimonial-text">"Innov Builders transformed our backyard! The new deck is absolutely stunning and has become our favorite space. Professional team, quality work, and finished on time. Highly recommend!"</p>
                    <p class="testimonial-author">— Jennifer M., Burlington MA</p>
                </div>
                <div class="testimonial">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
                    <p class="testimonial-text">"We had an amazing experience working with Innov Builders on our deck renovation! The team is professional, efficient, and always attentive to our needs. They delivered our project on time, with high-quality results that exceeded our expectations!"</p>
                    <p class="testimonial-author">— Michael T., Wellesley MA</p>
                </div>
                <div class="testimonial">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
                    <p class="testimonial-text">"The composite deck upgrade was exactly what we needed. Iago and his team were incredible - from design to installation. Fast, clean work with amazing attention to detail. Our outdoor space is now perfect for entertaining!"</p>
                    <p class="testimonial-author">— Sarah K., Reading MA</p>
                </div>
                <div class="testimonial">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
                    <p class="testimonial-text">"Outstanding work from start to finish! Our multi-level deck exceeded all expectations. The team was professional, communication was excellent, and the quality is exceptional. Worth every penny!"</p>
                    <p class="testimonial-author">— Robert W., Lowell MA</p>
                </div>
                <div class="testimonial">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
                    <p class="testimonial-text">"Great communication, very fast turnaround, and excellent quality work. The deck renovation completely transformed our outdoor living space. Highly recommend Iago and his team!"</p>
                    <p class="testimonial-author">— Lisa C., Nashua NH</p>
                </div>
                <div class="testimonial">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
                    <p class="testimonial-text">"Fantastic experience! Innov Builders built us a beautiful custom deck that perfectly matches our home. Professional, reliable, and the quality is outstanding. Highest recommendation!"</p>
                    <p class="testimonial-author">— David R., Sterling MA</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ABOUT SECTION -->
    <section class="about section">
        <h2 class="section-title">Transforming Outdoor Spaces Across Massachusetts & New Hampshire</h2>
        <div class="about-content">
            <p class="section-subtitle">At Innov Builders, we believe that true craftsmanship is about more than just building — it's about understanding each client's vision and bringing it to life with precision, creativity, and passion.</p>
            <p style="color: #ccc; max-width: 800px; margin: 0 auto;">With over a decade of experience in deck construction and renovation, our team handles everything from design to installation, ensuring every project adds beauty, functionality, and value to your home.</p>
        </div>
        
        <div class="stats-grid">
            <div class="stat-item">
                <span class="stat-number">11+</span>
                <span class="stat-label">years building decks</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">450+</span>
                <span class="stat-label">deck projects completed</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">780+</span>
                <span class="stat-label">satisfied clients</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">5⭐</span>
                <span class="stat-label">Google rating</span>
            </div>
        </div>
    </section>

    <!-- SAFETY & LICENSING SECTION -->
    <section class="bsc-section">
        <div class="section">
            <h2 class="section-title" style="color: #000;">Licensed, Insured & Safety-Focused</h2>
            <div style="max-width: 800px; margin: 30px auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                <div style="text-align: center; padding: 20px;">
                    <i class="fas fa-certificate" style="font-size: 2.5rem; color: #000; margin-bottom: 10px;"></i>
                    <p style="font-weight: 700; font-size: 1.1rem;">Licensed & Insured</p>
                    <p style="color: #666;">HIC #212869</p>
                </div>
                <div style="text-align: center; padding: 20px;">
                    <i class="fas fa-hard-hat" style="font-size: 2.5rem; color: #000; margin-bottom: 10px;"></i>
                    <p style="font-weight: 700; font-size: 1.1rem;">Workers' Compensation</p>
                    <p style="color: #666;">Fully covered team</p>
                </div>
                <div style="text-align: center; padding: 20px;">
                    <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #000; margin-bottom: 10px;"></i>
                    <p style="font-weight: 700; font-size: 1.1rem;">Strict Safety Protocols</p>
                    <p style="color: #666;">OSHA certified</p>
                </div>
                <div style="text-align: center; padding: 20px;">
                    <i class="fas fa-home" style="font-size: 2.5rem; color: #000; margin-bottom: 10px;"></i>
                    <p style="font-weight: 700; font-size: 1.1rem;">Building Code Compliant</p>
                    <p style="color: #666;">All permits handled</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FINAL FORM SECTION -->
    <section class="contact section" style="background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); padding: 80px 20px;">
        <div class="contact-container" style="max-width: 700px; margin: 0 auto;">
            <div style="text-align: center; margin-bottom: 40px;">
                <div style="display: inline-block; background: rgba(255, 195, 0, 0.2); border: 2px solid #FFC300; border-radius: 10px; padding: 15px 30px; margin-bottom: 20px;">
                    <p style="font-size: 1.3rem; font-weight: 700; color: #FFC300; margin: 0;">
                        ✅ Free Estimate — No Pressure, No Obligation
                    </p>
                </div>
                <h2 class="section-title" style="font-size: 2rem; margin-bottom: 15px;">Ready to Transform Your Deck?</h2>
                <p class="section-subtitle" style="color: #ccc; margin-bottom: 30px;">Get your custom estimate in minutes. We reply fast!</p>
            </div>
            
            <form id="contactFormBottom" class="contact-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="nameBottom">Name *</label>
                        <input type="text" id="nameBottom" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="phoneBottom">Phone *</label>
                        <input type="tel" id="phoneBottom" name="phone" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="emailBottom">Email *</label>
                        <input type="email" id="emailBottom" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="deckTypeBottom">What type of deck work do you need? *</label>
                        <select id="deckTypeBottom" name="deckType" required>
                            <option value="">Select your deck project type</option>
                            <option value="new-deck">New deck construction</option>
                            <option value="deck-renovation">Complete deck renovation</option>
                            <option value="deck-repair">Deck repair & structural reinforcement</option>
                            <option value="composite-upgrade">Composite deck upgrade</option>
                            <option value="deck-expansion">Deck expansion & redesign</option>
                            <option value="refinishing">Deck refinishing & staining</option>
                            <option value="other">Other/Not sure</option>
                        </select>
                    </div>
                </div>
                <div class="text-center" style="margin-top: 30px;">
                    <button type="submit" class="btn-primary" style="font-size: 1.3rem; padding: 20px 50px; background: #FFC300; color: #000; font-weight: 700;">
                        <i class="fas fa-calculator"></i> Get Your Free Estimate Now
                    </button>
                </div>
            </form>

        </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>Contact Us</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-phone"></i> +1 978-878-7977</li>
                        <li><i class="fas fa-envelope"></i> contact@innovbuildersusa.com</li>
                        <li><i class="fas fa-map-marker-alt"></i> 50 New Salem St, Wakefield, MA 01880</li>
                        <li style="margin-top: 10px; color: #FFC300;"><strong>HIC License: 212869</strong></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Deck Services</h3>
                    <ul class="footer-links">
                        <li>New Deck Construction</li>
                        <li>Complete Deck Renovation</li>
                        <li>Deck Repair & Reinforcement</li>
                        <li>Composite Deck Upgrades</li>
                        <li>Deck Refinishing & Staining</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Innov Builders — All Rights Reserved | Licensed & Insured</p>
            </div>
        </div>
    </footer>

    <!-- FIXED MOBILE CALL BUTTON -->
    <a href="#" class="floating-call call-with-email" id="floatingCall" style="text-decoration: none;">
        <i class="fas fa-phone"></i>
    </a>

    <!-- NAME MODAL -->
    <div class="name-modal" id="nameModal">
        <div class="name-modal-content">
            <h3><i class="fas fa-phone"></i> Before you call us...</h3>
            <p>We might be busy with a project. Leave your phone so we can reach you back if we miss your call:</p>
            <input type="tel" id="phoneInput" placeholder="Enter your phone (e.g. 978-123-4567)" autocomplete="tel">
            <div class="name-modal-buttons">
                <button class="btn-confirm" id="confirmCall">
                    <i class="fas fa-phone"></i> Call Now
                </button>
                <button class="btn-cancel" id="cancelCall">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // NAME MODAL FUNCTIONALITY
        const nameModal = document.getElementById('nameModal');
        const phoneInput = document.getElementById('phoneInput');
        const confirmCallBtn = document.getElementById('confirmCall');
        const cancelCallBtn = document.getElementById('cancelCall');
        let pendingPhoneNumber = '';

        // Function to validate US phone numbers
        function isValidUSPhone(phone) {
            // Remove all non-digit characters
            const digits = phone.replace(/\D/g, '');
            // US phone numbers have 10 digits (or 11 if starting with 1)
            return digits.length === 10 || (digits.length === 11 && digits.startsWith('1'));
        }

        // Function to format phone number for tel: link
        function formatPhoneForCall(phone) {
            const digits = phone.replace(/\D/g, '');
            if (digits.length === 10) {
                return 'tel:+1' + digits;
            } else if (digits.length === 11 && digits.startsWith('1')) {
                return 'tel:+' + digits;
            }
            return 'tel:+1' + digits;
        }

        function showNameModal(phoneNumber = 'tel:+19788787977') {
            pendingPhoneNumber = phoneNumber;
            nameModal.classList.add('show');
            phoneInput.value = '';
            setTimeout(() => phoneInput.focus(), 300);
        }

        function hideNameModal() {
            nameModal.classList.remove('show');
            pendingPhoneNumber = '';
        }

        function setupCallInterception() {
            // Handle call-with-email class links
            const callLinks = document.querySelectorAll('.call-with-email');
            callLinks.forEach(function(el) {
                el.addEventListener('click', function(e) {
                    e.preventDefault();
                    showNameModal('tel:+19788787977');
                }, true);
            });
        }

        setupCallInterception();

        confirmCallBtn.addEventListener('click', function() {
            const userPhone = phoneInput.value.trim();

            // Validate US phone number
            if (!userPhone || !isValidUSPhone(userPhone)) {
                phoneInput.style.borderColor = '#ff4444';
                phoneInput.placeholder = 'Please enter a valid US phone';
                phoneInput.focus();
                return;
            }

            const phoneToCall = pendingPhoneNumber;
            localStorage.setItem('userPhone', userPhone);
            
            // Detect traffic source from URL parameters or referrer (same logic as form)
            const urlParams = new URLSearchParams(window.location.search);
            const urlString = window.location.href.toLowerCase();
            const referrer = document.referrer.toLowerCase();
            
            // Default values
            let traffic_source = '';
            let plataforma = '';
            let platform = '';
            
            // Check URL parameters and referrer for META/GOOGLE indicators
            if (urlString.includes('meta') || urlString.includes('facebook') || urlString.includes('instagram') || 
                urlString.includes('fb') || referrer.includes('facebook') || referrer.includes('instagram')) {
                traffic_source = 'Meta Ads';
                plataforma = 'META';
                platform = 'meta';
            } else if (urlString.includes('google') || urlString.includes('gclid') || referrer.includes('google')) {
                traffic_source = 'Google Ads';
                plataforma = 'GOOGLE ADS';
                platform = '';
            }
            
            // Check utm_source parameter
            const utmSource = urlParams.get('utm_source');
            if (utmSource) {
                if (utmSource.toLowerCase().includes('meta') || utmSource.toLowerCase().includes('facebook') || utmSource.toLowerCase().includes('instagram')) {
                    traffic_source = 'Meta Ads';
                    plataforma = 'META';
                    platform = 'meta';
                } else if (utmSource.toLowerCase().includes('google')) {
                    traffic_source = 'Google Ads';
                    plataforma = 'GOOGLE ADS';
                    platform = '';
                }
            }
            
            // Prepare webhook data with same fields as form
            const webhookBody = new URLSearchParams();
            webhookBody.append('phone', userPhone);
            webhookBody.append('campaign_name', 'Deck Innov');
            webhookBody.append('page_name', 'Deck Remodeling - Landing Page');
            webhookBody.append('traffic_source', traffic_source);
            webhookBody.append('PLATAFORMA', plataforma);
            if (platform) {
                webhookBody.append('platform', platform);
            }
            webhookBody.append('source', 'Ligação - Phone Call - Deck');
            
            fetch('https://hook.us2.make.com/ctp3mh229k0mi9ujiy1xcu1xh84fpa3x', {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: webhookBody.toString()
            }).catch(error => console.log('Webhook error:', error));
            
            hideNameModal();
            
            setTimeout(() => {
                if (phoneToCall) {
                    window.location.href = phoneToCall;
                }
            }, 300);
        });

        cancelCallBtn.addEventListener('click', hideNameModal);

        nameModal.addEventListener('click', function(e) {
            if (e.target === nameModal) {
                hideNameModal();
            }
        });

        phoneInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                confirmCallBtn.click();
            }
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"], a.btn-primary').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                if (this.getAttribute('href').startsWith('tel:')) {
                    return;
                }
                e.preventDefault();
                const target = document.querySelector('#contact');
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Header background on scroll
        window.addEventListener('scroll', function() {
            const header = document.querySelector('.sticky-header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(0, 0, 0, 0.98)';
            } else {
                header.style.background = 'rgba(0, 0, 0, 0.95)';
            }
        });

        // Hero Image Slider
        function initHeroSlider() {
            const slides = document.querySelectorAll('.hero-slide');
            let currentSlide = 0;

            function showNextSlide() {
                slides[currentSlide].classList.add('zoom-out');
                
                setTimeout(() => {
                    slides[currentSlide].classList.remove('active', 'zoom-out');
                    currentSlide = (currentSlide + 1) % slides.length;
                    slides[currentSlide].classList.add('active');
                }, 800);
            }

            setInterval(showNextSlide, 5000);
        }

        initHeroSlider();

        // Before/After Slider - Funcionalidade agora é inline via oninput no HTML

        // Contact Form Handling
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('contactForm');
            const formBottom = document.getElementById('contactFormBottom');
            
            if (form) {
                form.addEventListener('submit', handleFormSubmit);
            }
            
            if (formBottom) {
                formBottom.addEventListener('submit', handleFormSubmit);
            }
            
            function handleFormSubmit(e) {
                e.preventDefault();
                
                const formData = new FormData(this);
                const formObject = {};
                formData.forEach((value, key) => {
                    formObject[key] = value;
                });
                
                // Detect traffic source from URL parameters or referrer
                const urlParams = new URLSearchParams(window.location.search);
                const urlString = window.location.href.toLowerCase();
                const referrer = document.referrer.toLowerCase();
                
                // Default values
                let traffic_source = '';
                let plataforma = '';
                let platform = '';
                
                // Check URL parameters and referrer for META/GOOGLE indicators
                if (urlString.includes('meta') || urlString.includes('facebook') || urlString.includes('instagram') || 
                    urlString.includes('fb') || referrer.includes('facebook') || referrer.includes('instagram')) {
                    traffic_source = 'Meta Ads';
                    plataforma = 'META';
                    platform = 'meta';
                } else if (urlString.includes('google') || urlString.includes('gclid') || referrer.includes('google')) {
                    traffic_source = 'Google Ads';
                    plataforma = 'GOOGLE ADS';
                    platform = '';
                }
                
                // Check utm_source parameter
                const utmSource = urlParams.get('utm_source');
                if (utmSource) {
                    if (utmSource.toLowerCase().includes('meta') || utmSource.toLowerCase().includes('facebook') || utmSource.toLowerCase().includes('instagram')) {
                        traffic_source = 'Meta Ads';
                        plataforma = 'META';
                        platform = 'meta';
                    } else if (utmSource.toLowerCase().includes('google')) {
                        traffic_source = 'Google Ads';
                        plataforma = 'GOOGLE ADS';
                        platform = '';
                    }
                }
                
                // Convert to URL-encoded form data for separate fields
                const formBody = new URLSearchParams();
                formBody.append('email', formObject.email || '');
                formBody.append('phone', formObject.phone || '');
                formBody.append('name', formObject.name || '');
                formBody.append('deckType', formObject.deckType || '');
                formBody.append('campaign_name', 'Deck Innov');
                formBody.append('page_name', 'Deck Remodeling - Landing Page');
                formBody.append('traffic_source', traffic_source);
                formBody.append('PLATAFORMA', plataforma);
                if (platform) {
                    formBody.append('platform', platform);
                }
                
                const submitBtn = this.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
                submitBtn.disabled = true;
                
                // Send webhook - using form-urlencoded for separate fields
                fetch('https://hook.us2.make.com/ctp3mh229k0mi9ujiy1xcu1xh84fpa3x', {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: formBody.toString()
                })
                .then(function() {
                    // Redirect to thank you page
                    window.location.href = 'thank-you.html';
                })
                .catch(function(error) {
                    console.error('Error submitting form:', error);
                    // Still redirect even if there's an error, data was likely sent
                    window.location.href = 'thank-you.html';
                });
                
                // Fallback: ensure redirect happens after timeout
                setTimeout(function() {
                    window.location.href = 'thank-you.html';
                }, 3000);
            }
        });

        // Video overlay play/pause control
        document.addEventListener('DOMContentLoaded', function() {
            const wrappers = document.querySelectorAll('.video-wrapper');
            wrappers.forEach(wrapper => {
                const video = wrapper.querySelector('video');
                if (!video) return;

                const overlay = document.createElement('div');
                overlay.className = 'play-overlay';
                overlay.innerHTML = '<div class="play-button"><i class="fas fa-play"></i></div>';
                wrapper.appendChild(overlay);

                function showOverlay() { overlay.classList.remove('hidden'); }
                function hideOverlay() { overlay.classList.add('hidden'); }

                showOverlay();
                overlay.addEventListener('click', function(e){
                    e.preventDefault();
                    e.stopPropagation();
                    video.play();
                });
                video.addEventListener('click', function(){
                    if (video.paused) video.play(); else video.pause();
                });
                video.addEventListener('play', hideOverlay);
                video.addEventListener('pause', showOverlay);
                video.addEventListener('ended', showOverlay);
            });
        });
    </script>
</body>
</html>
